/*!
 * Groceries v0.2.0
 * - - -
 * Copyright (c) 2014 Teun Zengerink
 * Released under MIT lisenced
 * https://raw.github.com/Mytho/groceries/master/LISENCE.md
 */
"use strict";var Groceries=angular.module("Groceries",[]);Groceries.config(["$interpolateProvider",function(a){a.startSymbol("[[").endSymbol("]]")}]),Groceries.factory("itemModel",function(){return function(a){angular.extend(this,{id:null,name:"",bought_by:null,bought_date:null,is_bought:function(){return this.bought_by&&this.bought_date}}),angular.extend(this,a)}}),Groceries.service("itemService",["$http","$log","itemModel",function(a,b,c){var d=function(a){var b,d;for(d=[],b=0;b<a.length;b++)d.push(new c(a[b]));return d};this.deleteItem=function(c){return a.delete("/items/"+c).then(function(a){return a.data},function(){b.error("Could not delete item")})},this.getGroceries=function(){return a.get("/items").then(function(a){return d(a.data)},function(){b.error("Could not load items")})},this.getSuggestions=function(){return a.get("/suggestions").then(function(a){return d(a.data)},function(){b.error("Could not load suggestions")})}}]),Groceries.controller("listController",["$scope","itemService",function(a,b){a.groceries=[],a.suggestions=[],a.deleteItem=function(a){b.deleteItem(a)},b.getGroceries().then(function(b){a.groceries=b}),b.getSuggestions().then(function(b){a.suggestions=b})}]);